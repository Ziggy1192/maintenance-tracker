<div class="form-page" data-controller="service-equipment flatpickr">
  <%= simple_form_for @task do |f| %>
    <div class="row mt-4">
      <div class="col-6">
        <%= f.input :start_date, as: :string, required: true, input_html: {class: "datepicker"} %>
      </div>
      <div class="col-6">
        <%= f.input :end_date, as: :string, required: true, input_html: {class: "datepicker"} %>
      </div>
    </div>
    <%= f.input :extra_info %>
    <%= f.association :technician, as: :radio_buttons, :collection => User.where(:technician => 'true'), :label_method  => lambda { |technician| "#{technician.first_name.capitalize} #{technician.last_name.capitalize}" } %>
    <div>
      <%= f.association :service, input_html: { data: { action: 'change->service-equipment#updateInput '} } %>
    </div>
    <div data-service-equipment-target='serviceInput'>
    </div>
    <%= f.association :waterpoint, :label_method => lambda { |waterpoint| "#{waterpoint.waterpoint_type} at #{waterpoint.network.name}" } %>
    <%= f.button :submit, 'CREATE A TASK', class: "btn btn-primary" %>
  <% end %>
</div>

 <%# input_html:  { data: { action: "change->service-equipment#connect" } }  %>
